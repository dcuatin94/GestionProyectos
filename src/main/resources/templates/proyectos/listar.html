<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{index}">
	<head th:replace="fragments/head :: header">
		<title>Projects Manager</title>
	</head>
	<body >
		<div layout:fragment="page-title">Proyecto</div>
		<div layout:fragment="contenido">
			<div class="row">
				<div class="col-md-12">
					<div class="card">
						<div class="card-header">
							<div class="d-flex align-items-center">
								<a class="btn btn-primary btn-round ms-auto" href="/proyecto"><i class="fa fa-plus"></i> Agregar</a>
							</div>
						</div>
						<div class="card-body">
							<div class="table-responsive">
								<table id="tbl-proyectos" class="display table table-striped table-hover">
									<thead>
										<tr>
											<th>Id</th>
											<th>Tema</th>
											<th>Descripcion</th>
											<th>Fecha Inicio</th>
											<th>Fecha Fin</th>
											<th>Usuario</th>
											<th>Estado</th>
											<th>Acciones</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="item : ${proyectos}">
											<td th:text="${item.idProyecto}"></td>
											<td th:text="${item.nombre}"></td>
											<td th:text="${item.descripcion}"></td>
											<td th:text="${item.fechaInicio}"></td>
											<td th:text="${item.fechaFin}"></td>
											<td th:text="${item.usuario.nombre} +' '+ ${item.usuario.apellido}"></td>
											<td th:text="${item.estadoRegistro}"></td>	
											<td>
												<div class="form-button-action">
				                                	<a th:href="@{/proyecto/editar/}+${item.idProyecto}" type="button" data-bs-toggle="tooltip" title="" class="btn btn-link btn-primary btn-lg" data-original-title="Edit Task">
				                                  		<i class="fa fa-edit"></i>
				                                	</a>
				                                	<a th:href="@{/proyecto/eliminar/}+${item.idProyecto}" type="button" onclick="return confirm('Estas seguro que deseas eliminar registro?')" data-bs-toggle="tooltip" title="" class="btn btn-link btn-danger" data-original-title="Remove">
				                                  		<i class="fa fa-times"></i>
				                                	</a>
				                              </div>
											</td>																					
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript" layout:fragment="codejs">
			$(document).ready(function(){
				$("#tbl-proyectos").DataTable();			
			});
		</script>
	</body>
</html>